<!--END-->
<!--END--><!DOCTYPE html><!--[if IE 7]>
<html class="ie7" lang="ru">
<![endif]-->
<!--[if IE 8]>
<html class="ie8" lang="ru">
<![endif]-->
<!--[if IE 9]>
<html class="ie9" lang="ru">
<![endif]-->
<!--[if gt IE 9]><!--> <html lang="ru" xmlns:th="http://www.thymeleaf.org"> <!--<![endif]-->
<head th:replace="~{fragments/common_head_tag_fragment :: headTagFragment (#{title.profile})}"></head>
<body class="Site">
  <header th:replace="~{fragments/authorized_header_fragment :: headFragmentAuth ('')}"></header>
  <div class="Middle">
    <div class="Middle-top">
      <div class="wrap">
        <h1 class="Middle-title" th:text="#{page.profile.account}">Личный кабинет</h1>
      </div>
    </div>
    <div class="wrap">
      <main class="Middle-main">
        <h2 class="Middle-title" th:text="#{menu.profile}">Мой профиль</h2>
        <div class="Tabs Tabs_default">
          <div class="Tabs-links">
            <a class="Tabs-link Tabs-link_ACTIVE" href="#basic" th:text="#{page.profile.basic}">Основные сведения</a>
            <a class="Tabs-link" href="#transactions" th:text="#{page.profile.transaction}">История транзакций</a>
            <a class="Tabs-link" href="#topup" th:text="#{page.profile.replenish}">Пополнить счет</a>
          </div>
          <div class="Tabs-wrap">
            <div class="Tabs-block" id="basic">
              <div class="Profile">
                <form class="form Profile-form" action="#" method="post">
                  <div class="row">
                    <div th:if="${curUser.password.equals('')}">
                      <div class="row-block">
                        <div class="form-group">
                          <label class="form-label" for="name" th:text="#{page.profile.name}">Имя</label>
                          <div class="form-input" th:text="${curUser.name}">User name</div>
                        </div>
                        <div class="form-group">
                          <label class="form-label" for="mail">Contact</label>
                          <div class="form-input" th:text="${curUser.contact}">User contact</div>
                        </div>
                      </div>
                    </div>
                    <div th:if="${not curUser.password.equals('')}">
                      <div class="row-block">
                        <div class="form-group">
                          <label class="form-label" for="name" th:text="#{page.profile.name}">Имя
                          </label>
                          <input class="form-input" id="name" name="name" type="text"
                                 value="User name" th:value="${curUser.name}"/>
                        </div>
                        <div class="form-group" th:if="${curUser.contact.contains('@')}">
                          <label class="form-label" for="mail">E-mail
                          </label>
                          <input class="form-input" id="mail" name="mail" type="text"
                                 value="flotskiy@book.shop" th:value="${curUser.contact}" data-validate="require mail"/>
                          <div class="Profile-btn Profile-btn_confirm">
                            <button class="btn btn_primary" type="button" th:text="#{button.confirm}">Подтвердить
                            </button>
                          </div>
                        </div>
                        <div class="form-group" th:if="${not curUser.contact.contains('@')}">
                          <label class="form-label" for="phone" th:text="#{page.profile.phone}">Телефон
                          </label>
                          <input class="form-input" id="phone" name="phone" type="text"
                                 value="+70000000000" th:value="${curUser.contact}"
                                 data-mask="+7 (999) 999-99-99" data-validate="require"/>
                          <div class="Profile-btn Profile-btn_confirm">
                            <button class="btn btn_primary" type="button" th:text="#{button.confirm}">Подтвердить
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div th:if="${curUser.password.equals('')}">
                      <span th:text="#{page.profile.google.info}">Info for google users</span>
                    </div>
                    <div th:if="${not curUser.password.equals('')}">
                      <div class="row-block">
                        <div class="form-group">
                          <label class="form-label" for="password" th:text="#{page.profile.password}">Пароль
                          </label>
                          <input class="form-input" id="password" name="password" type="password"
                                 placeholder="Тут можно изменить пароль" th:placeholder="#{page.profile.password.placeholder}"/>
                        </div>
                        <div class="form-group">
                          <label class="form-label" for="passwordReply" th:text="#{page.profile.password.confirm}">
                            Подтверждение пароля
                          </label>
                          <input class="form-input" id="passwordReply" name="passwordReply" type="password"
                                 placeholder="Введите пароль повторно"
                                 th:placeholder="#{page.profile.password.confirm.placeholder}"/>
                        </div>
                        <div class="form-group">
                          <div class="Profile-btn">
<!--                            <button class="btn btn_danger" type="button" th:text="#{button.cancel}">Отменить-->
<!--                            </button>-->
                            <button class="btn btn_primary" type="submit" th:text="#{button.save}">Сохранить
                            </button>
                          </div>
                          <div class="Profile-success" th:if="${#strings.equals(changeResult, 'pass')}"
                               th:text="#{page.profile.success.pass}">Password changed successfully</div>
                          <div class="Profile-fail" th:if="${#strings.equals(changeResult, 'passfail')}"
                               th:text="#{page.profile.fail.pass}">Password change failed</div>
                          <div class="Profile-success" th:if="${#strings.equals(changeResult, 'user')}"
                               th:text="#{page.profile.success.user}">User data changed successfully</div>
                          <div class="Profile-fail" th:if="${#strings.equals(changeResult, 'userfail')}"
                               th:text="#{page.profile.fail.user}">User data change failed</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
            <div class="Tabs-block" id="transactions">
              <div class="Transactions">
                <div class="tableWrap">
                  <table class="table table_noMargin">
                    <thead>
                      <tr>
                        <th th:text="#{page.profile.date}">Дата и время</th>
                        <th th:text="#{page.profile.amount}">Сумма</th>
                        <th th:text="#{page.profile.description}">Описание</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>15 мая 2017 10:03</td>
                        <td>
                          <span class="Transactions_textSuccess">
                            <strong>+500 р.</strong>
                          </span>
                        </td>
                        <td>Пополнение счета</td>
                      </tr>
                      <tr>
                        <td>5 марта 2017 13:40
                        </td>
                        <td>
                          <span class="Transactions_textSuccess">
                            <strong>-480 р.</strong>
                          </span>
                        </td>
                        <td>Покупка книги&#32;
                          <a href="/books/slug.html">История Беларуси</a>
                        </td>
                      </tr>
                      <tr>
                        <td>1 февраля 2017 04:10
                        </td>
                        <td>
                          <span class="Transactions_textSuccess">
                            <strong>+10 000 р.</strong>
                          </span>
                        </td>
                        <td>Пополнение с помощью WebMoney</td>
                      </tr>
                      <tr>
                        <td>1 января 2017 09:33</td>
                        <td>
                          <span class="Transactions_textSuccess">
                            <strong>+7 896 р.</strong>
                          </span>
                        </td>
                        <td>Пополнение с помощью Яндекс.Деньги</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="Transactions-footer Transactions-footer_center">
                  <a class="btn btn_primary Transactions-get" href="#" data-transactionoffset="4"
                     data-transactionlimit="10" data-transactionsort="asc" th:text="#{button.more}">Показать еще</a>
                </div>
              </div>
            </div>
            <div class="Tabs-block" id="topup">
              <form class="form Topup" action="#" method="post" data-sendHash="34534535">
                <div class="Topup-wrap">
                  <strong class="Topup-title" th:text="#{page.profile.replenish.amount}">Введите сумму</strong>
                  <div class="form-group form-group_row Topup-group">
                    <input class="form-input" id="sum" name="sum" type="text"/>
                    <span>₽</span>
                  </div>
                  <div class="form-group">
                    <div class="Topup-btn">
                      <button class="btn btn_primary" th:text="#{button.replenish}">Пополнить
                      </button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
  <footer th:replace="~{fragments/authorized_footer_fragment :: footFragmentAuth}"></footer>
  <script src="/assets/plg/jQuery/jquery-3.5.1.min.js"></script>
</body></html>